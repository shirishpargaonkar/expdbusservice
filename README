
git clone https://github.com/shirishpargaonkar/expdbusservice

For now, it is expected that this tool exists on the system: sdbus-c++-xml2cpp

$ cd expdbusservice

$ ls
CMakeLists.txt interface  LICENSE  README  service  src

Issue following commands to build and install timeinfo_server, timeinfo_client
and install service file named com.example.timeinfo.service.


$ tree

├── CMakeLists.txt
├── include
│   ├── timeinfo_client.hpp
│   └── timeinfo_server.hpp
├── interface
│   └── timeinfo.xml
├── LICENSE
├── README
├── service
│   └── com.example.timeinfo.service
└── src
    ├── timeinfo_client.cpp
    ├── timeinfo_cmain.cpp
    ├── timeinfo_server.cpp
    └── timeinfo_smain.cpp

mkdir build
cd build
cmake ..
make
sudo cmake --install .

or

mkdir build
cd build
cmake ..
cmake -DCMAKE_INSTALL_PREFIX=$HOME/.local ..
cmake --build . --target generate_apheaders
cmake --build . --target timeinfo_server timeinfo_client
sudo cmake --install .

To test and verify, issue following commands:

$ busctl --user tree com.example.timeinfo
└─ /com
  └─ /com/example
    └─ /com/example/timeinfo

$ dbus-send --session --dest=com.example.timeinfo --type=method_call --print-reply /com/example/timeinfo com.example.timeinfo.GetCurrentTime string:"utc"

method return time=1753069038.557126 sender=:1.140 -> destination=:1.142 serial=4 reply_serial=2
   string "2025-07-21 03:37:18"

$ timeinfo_client
Current time: 1753070031
Current time: 2025-07-21 03:53:51
Current time: 1753070031
Current time: 2025-07-21 03:53:51

